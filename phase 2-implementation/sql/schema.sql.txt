/*Ed_ToolkitCS6460 Database CREATE fileterm: Spring 2017*/DROP DATABASE IF EXISTS `cs6460_sp17_project`;SET default_storage_engine=InnoDB;CREATE DATABASE IF NOT EXISTS `cs6460_sp17_project` DEFAULT CHARACTER SET utf8COLLATE utf8_general_ci;USE `cs6460_sp17_project`;CREATE TABLE `Educator` (`educator_id` int(16) unsigned NOT NULL AUTO_INCREMENT,`user_name` varchar(100) NOT NULL,`password` varchar(50) NOT NULL,`first_name` varchar(100) NOT NULL,`last_name` varchar(250) NOT NULL,PRIMARY KEY (`educator_id`)
);CREATE TABLE `Course` (`courseID` int(16) unsigned NOT NULL AUTO_INCREMENT,`shortName` varchar(100) NOT NULL,`discription` varchar(250) NOT NULL,`educator_id` int(16) unsigned NOT NULL,PRIMARY KEY (`courseID`),FOREIGN KEY (`educator_id`) REFERENCES Educator(educator_id) );CREATE TABLE `Quiz` (`quizID`int(16) unsigned NOT NULL AUTO_INCREMENT,`courseID` int(16) unsigned NOT NULL,`score` int(16) unsigned NOT NULL DEFAULT 0,`title` varchar(250) NOT NULL,PRIMARY KEY (`quizID`),
FOREIGN KEY (`courseID`) REFERENCES Course(courseID) ON DELETE CASCADE);CREATE TABLE `Student`(`stuID` int(16) unsigned NOT NULL AUTO_INCREMENT,`user_name` varchar(100) NOT NULL,`password` varchar(50) NOT NULL,`first_name` varchar(100) NOT NULL,`last_name` varchar(250) NOT NULL,PRIMARY KEY (`stuID`));CREATE TABLE `KeyConcept` (`keyID` int(16) unsigned NOT NULL AUTO_INCREMENT,`courseID` int(16) unsigned NOT NULL,`name` varchar(100) NOT NULL,PRIMARY KEY (`keyID`),FOREIGN KEY (`courseID`) REFERENCES Course(courseID) ON DELETE CASCADE);
CREATE TABLE `Question` (`questionID` int(16) unsigned NOT NULL AUTO_INCREMENT,`questionText` varchar(1000) NOT NULL,`answer` varchar(100) NOT NULL,`quizID` int(16) unsigned NOT NULL,`keyID` int(16) unsigned NOT NULL,PRIMARY KEY (questionID),
FOREIGN KEY (keyID) REFERENCES KeyConcept(keyID) ON DELETE CASCADE,FOREIGN KEY (quizID) REFERENCES Quiz(quizID) ON DELETE CASCADE);CREATE TABLE `UsageLog`(`logID` int(16) unsigned NOT NULL AUTO_INCREMENT,`questionID` int(16) unsigned NOT NULL,`stuID` int(16) unsigned NOT NULL,PRIMARY KEY (`logID`),FOREIGN KEY (`stuID`) REFERENCES `Student` (`stuID`),FOREIGN KEY (`questionID`) REFERENCES `Question` (`questionID`) ON DELETE CASCADE);CREATE TABLE `Answer`(`answerID` varchar(10) NOT NULL ,`questionID` int(16) unsigned NOT NULL,`text` varchar(200) NOT NULL,PRIMARY KEY (`answerID`,`questionID`),KEY `questionID` (`answerID`, `questionID`),FOREIGN KEY (`questionID`) REFERENCES `Question` (`questionID`) ON DELETE CASCADE);
CREATE TABLE `Score` (`scoreID`int(16) unsigned NOT NULL AUTO_INCREMENT,`courseID` int(16) unsigned NOT NULL,`quizID` int(16) unsigned NOT NULL,`score` int(16) unsigned NOT NULL DEFAULT 0,`stuID` int(16) unsigned NOT NULL,PRIMARY KEY (`scoreID`),FOREIGN KEY (`courseID`) REFERENCES Course(courseID) ON DELETE CASCADE,FOREIGN KEY (`quizID`) REFERENCES Quiz(quizID) ON DELETE CASCADE,FOREIGN KEY (`stuID`) REFERENCES Student(stuID) ON DELETE CASCADE);